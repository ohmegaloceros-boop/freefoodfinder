{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ohmeg\\\\code\\\\FoodFinder\\\\client\\\\src\\\\components\\\\SearchBar.js\",\n  _s = $RefreshSig$();\n/**\r\n * SearchBar Component\r\n * \r\n * Expandable search bar with magnifying glass icon\r\n * Features:\r\n * - Click magnifying glass to expand search input\r\n * - Search for cities or addresses\r\n * - Uses Nominatim geocoding API to find locations\r\n * - Flies map to searched location\r\n */\n\nimport React, { useState } from 'react';\nimport './SearchBar.css';\n\n/**\r\n * @param {Function} onSearch - Callback when location is found\r\n *   Receives: { lat, lng, displayName }\r\n * @param {boolean} isSidebarOpen - True when sidebar is visible (hides search on mobile)\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchBar({\n  onSearch,\n  isSidebarOpen\n}) {\n  _s();\n  // State: Is search input expanded?\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  // State: User's search query text\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // State: Is search API request in progress?\n  const [isSearching, setIsSearching] = useState(false);\n\n  // State: Error message to display (empty string = no error)\n  const [error, setError] = useState('');\n\n  /**\r\n   * Toggle search bar expansion\r\n   * - Expands to show input field when collapsed\r\n   * - Collapses to just magnifying glass icon when expanded\r\n   * - Clears any error messages\r\n   */\n  const handleToggle = () => {\n    setIsExpanded(!isExpanded);\n    setError('');\n  };\n\n  /**\r\n   * Handle search submission\r\n   * \r\n   * Flow:\r\n   * 1. Validates query is not empty\r\n   * 2. Calls Nominatim geocoding API (OpenStreetMap's free geocoding service)\r\n   * 3. If location found: calls onSearch callback to fly map to location\r\n   * 4. If not found: displays error message\r\n   * 5. Closes search bar on success\r\n   * \r\n   * @param {Event} e - Form submit event\r\n   */\n  const handleSearch = async e => {\n    e.preventDefault();\n    if (!searchQuery.trim()) return;\n    setIsSearching(true);\n    setError('');\n    try {\n      // Search using Nominatim geocoding API\n      // Free geocoding service provided by OpenStreetMap\n      // Limit=1 returns only the best match\n      const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(searchQuery)}&limit=1`);\n      const data = await response.json();\n      if (data && data.length > 0) {\n        const result = data[0];\n        // Call parent component's onSearch callback with location data\n        onSearch({\n          lat: parseFloat(result.lat),\n          lng: parseFloat(result.lon),\n          displayName: result.display_name\n        });\n        // Clear search and collapse bar on success\n        setSearchQuery('');\n        setIsExpanded(false);\n      } else {\n        setError('Location not found. Try a city name or address.');\n      }\n    } catch (err) {\n      console.error('Search error:', err);\n      setError('Search failed. Please try again.');\n    } finally {\n      setIsSearching(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `search-bar ${isExpanded ? 'expanded' : ''} ${isSidebarOpen ? 'behind-sidebar' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"search-icon-button\",\n      onClick: handleToggle,\n      \"aria-label\": \"Search for location\",\n      children: \"\\uD83D\\uDD0D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSearch,\n      className: \"search-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: searchQuery,\n        onChange: e => setSearchQuery(e.target.value),\n        placeholder: \"Search city or address...\",\n        className: \"search-input\",\n        autoFocus: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), searchQuery.trim() ? /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"search-submit-button\",\n        disabled: isSearching,\n        children: isSearching ? '...' : 'Go'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"search-close-button\",\n        onClick: handleToggle,\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchBar, \"E+5oB9HOGkW4AUH8Eo7iauFsia0=\");\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","SearchBar","onSearch","isSidebarOpen","_s","isExpanded","setIsExpanded","searchQuery","setSearchQuery","isSearching","setIsSearching","error","setError","handleToggle","handleSearch","e","preventDefault","trim","response","fetch","encodeURIComponent","data","json","length","result","lat","parseFloat","lng","lon","displayName","display_name","err","console","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","autoFocus","disabled","_c","$RefreshReg$"],"sources":["C:/Users/ohmeg/code/FoodFinder/client/src/components/SearchBar.js"],"sourcesContent":["/**\r\n * SearchBar Component\r\n * \r\n * Expandable search bar with magnifying glass icon\r\n * Features:\r\n * - Click magnifying glass to expand search input\r\n * - Search for cities or addresses\r\n * - Uses Nominatim geocoding API to find locations\r\n * - Flies map to searched location\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport './SearchBar.css';\r\n\r\n/**\r\n * @param {Function} onSearch - Callback when location is found\r\n *   Receives: { lat, lng, displayName }\r\n * @param {boolean} isSidebarOpen - True when sidebar is visible (hides search on mobile)\r\n */\r\nfunction SearchBar({ onSearch, isSidebarOpen }) {\r\n  // State: Is search input expanded?\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  \r\n  // State: User's search query text\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  \r\n  // State: Is search API request in progress?\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  \r\n  // State: Error message to display (empty string = no error)\r\n  const [error, setError] = useState('');\r\n\r\n  /**\r\n   * Toggle search bar expansion\r\n   * - Expands to show input field when collapsed\r\n   * - Collapses to just magnifying glass icon when expanded\r\n   * - Clears any error messages\r\n   */\r\n  const handleToggle = () => {\r\n    setIsExpanded(!isExpanded);\r\n    setError('');\r\n  };\r\n\r\n  /**\r\n   * Handle search submission\r\n   * \r\n   * Flow:\r\n   * 1. Validates query is not empty\r\n   * 2. Calls Nominatim geocoding API (OpenStreetMap's free geocoding service)\r\n   * 3. If location found: calls onSearch callback to fly map to location\r\n   * 4. If not found: displays error message\r\n   * 5. Closes search bar on success\r\n   * \r\n   * @param {Event} e - Form submit event\r\n   */\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!searchQuery.trim()) return;\r\n\r\n    setIsSearching(true);\r\n    setError('');\r\n\r\n    try {\r\n      // Search using Nominatim geocoding API\r\n      // Free geocoding service provided by OpenStreetMap\r\n      // Limit=1 returns only the best match\r\n      const response = await fetch(\r\n        `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(searchQuery)}&limit=1`\r\n      );\r\n      const data = await response.json();\r\n\r\n      if (data && data.length > 0) {\r\n        const result = data[0];\r\n        // Call parent component's onSearch callback with location data\r\n        onSearch({\r\n          lat: parseFloat(result.lat),\r\n          lng: parseFloat(result.lon),\r\n          displayName: result.display_name\r\n        });\r\n        // Clear search and collapse bar on success\r\n        setSearchQuery('');\r\n        setIsExpanded(false);\r\n      } else {\r\n        setError('Location not found. Try a city name or address.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Search error:', err);\r\n      setError('Search failed. Please try again.');\r\n    } finally {\r\n      setIsSearching(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`search-bar ${isExpanded ? 'expanded' : ''} ${isSidebarOpen ? 'behind-sidebar' : ''}`}>\r\n      {/* Magnifying glass button - always visible */}\r\n      <button \r\n        className=\"search-icon-button\"\r\n        onClick={handleToggle}\r\n        aria-label=\"Search for location\"\r\n      >\r\n        üîç\r\n      </button>\r\n      \r\n      {/* Search form - only visible when expanded */}\r\n      {isExpanded && (\r\n        <form onSubmit={handleSearch} className=\"search-form\">\r\n          {/* Search text input */}\r\n          <input\r\n            type=\"text\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            placeholder=\"Search city or address...\"\r\n            className=\"search-input\"\r\n            autoFocus\r\n          />\r\n          \r\n          {/* Conditional button: green \"Go\" when text entered, red \"X\" when empty */}\r\n          {searchQuery.trim() ? (\r\n            <button \r\n              type=\"submit\" \r\n              className=\"search-submit-button\"\r\n              disabled={isSearching}\r\n            >\r\n              {isSearching ? '...' : 'Go'}\r\n            </button>\r\n          ) : (\r\n            <button \r\n              type=\"button\"\r\n              className=\"search-close-button\"\r\n              onClick={handleToggle}\r\n            >\r\n              ‚úï\r\n            </button>\r\n          )}\r\n          \r\n          {/* Error message display */}\r\n          {error && <div className=\"search-error\">{error}</div>}\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}