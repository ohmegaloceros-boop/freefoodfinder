{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ohmeg\\\\code\\\\FoodFinder\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n/**\r\n * FreeFoodFinder - Main Application Component\r\n * \r\n * This app helps users find free food resources including:\r\n * - Food Banks\r\n * - Community Fridges  \r\n * - Food Boxes\r\n * \r\n * Features:\r\n * - Multi-city support (Denver, Seattle)\r\n * - Interactive map with custom markers\r\n * - Filter locations by type\r\n * - User-submitted location suggestions\r\n * - Mobile-responsive design with slide-out sidebar\r\n */\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Map from './components/Map';\nimport FilterPanel from './components/FilterPanel';\nimport LocationList from './components/LocationList';\nimport SubmissionForm from './components/SubmissionForm';\nimport SearchBar from './components/SearchBar';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // ========== STATE MANAGEMENT ==========\n\n  // Location data state\n  const [locations, setLocations] = useState([]); // All locations from API\n  const [filteredLocations, setFilteredLocations] = useState([]); // Filtered by type and viewport\n  const [selectedLocation, setSelectedLocation] = useState(null); // Location clicked on map/list\n  const [mapBounds, setMapBounds] = useState(null); // Current map viewport bounds\n\n  // Filter state - controls which types of locations are shown\n  const [selectedTypes, setSelectedTypes] = useState({\n    foodbank: true,\n    community_fridge: true,\n    food_box: true\n  });\n\n  // User submission workflow state\n  const [isSubmissionFormOpen, setIsSubmissionFormOpen] = useState(false);\n  const [clickedCoordinates, setClickedCoordinates] = useState(null);\n  const [isSelectingOnMap, setIsSelectingOnMap] = useState(false);\n  const [locationData, setLocationData] = useState(null); // Reverse geocoded address\n  const [isProcessingClick, setIsProcessingClick] = useState(false); // Prevent multiple clicks\n\n  // Mobile UI state\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false); // Hamburger menu toggle\n\n  // Map center state\n  const [mapCenter, setMapCenter] = useState([39.8283, -98.5795]); // Default: Geographic center of USA\n  const [mapZoom, setMapZoom] = useState(4); // Default zoom level\n  const [userLocation, setUserLocation] = useState(null); // User's geolocation\n\n  // ========== GEOLOCATION ==========\n\n  /**\r\n   * Get user's location on mount and center map\r\n   * Falls back to default USA center if permission denied or unavailable\r\n   */\n  useEffect(() => {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const {\n          latitude,\n          longitude\n        } = position.coords;\n        const userPos = [latitude, longitude];\n        setUserLocation(userPos);\n        setMapCenter(userPos);\n        setMapZoom(10); // Zoom level 10 shows approximately 10-mile radius\n        console.log('User location detected:', userPos);\n      }, error => {\n        console.log('Geolocation error:', error.message);\n        // Keep default center and zoom\n      }, {\n        enableHighAccuracy: false,\n        timeout: 10000,\n        // Increased to 10 seconds\n        maximumAge: 300000 // Allow cached position up to 5 minutes old\n      });\n    } else {\n      console.log('Geolocation not supported');\n    }\n  }, []);\n\n  // ========== DATA FETCHING ==========\n\n  /**\r\n   * Fetch locations based on map viewport (lazy loading)\r\n   * Only loads locations visible in current map view for better performance\r\n   * Triggered when map bounds change or filters are toggled\r\n   * \r\n   * Debounced to avoid excessive API calls during rapid panning/zooming\r\n   */\n  useEffect(() => {\n    // Skip initial fetch until we have map bounds (after first render)\n    if (!mapBounds) return;\n\n    // Debounce: Wait 300ms after user stops moving map before fetching\n    const timeoutId = setTimeout(() => {\n      // Build query parameters for server-side filtering\n      const params = new URLSearchParams();\n      params.append('bounds', `${mapBounds.north},${mapBounds.south},${mapBounds.east},${mapBounds.west}`);\n\n      // Fetch filtered locations from server\n      fetch(`/api/locations?${params.toString()}`).then(res => res.json()).then(data => {\n        setLocations(data);\n      }).catch(err => {\n        console.error('Error fetching locations:', err);\n      });\n    }, 300); // 300ms debounce delay\n\n    // Cleanup: Cancel pending fetch if bounds change again\n    return () => clearTimeout(timeoutId);\n  }, [mapBounds]); // Re-fetch when map viewport changes\n\n  /**\r\n   * Filter locations based on selected types\r\n   * Note: Viewport filtering now happens server-side for performance\r\n   * This only filters by type (foodbank, fridge, box)\r\n   */\n  useEffect(() => {\n    const filtered = locations.filter(location => selectedTypes[location.type]);\n    setFilteredLocations(filtered);\n  }, [selectedTypes, locations]);\n\n  // ========== EVENT HANDLERS ==========\n\n  /**\r\n   * Toggle filter for a specific location type\r\n   * @param {string} type - One of: 'foodbank', 'community_fridge', 'food_box'\r\n   */\n  const handleFilterChange = type => {\n    setSelectedTypes(prev => ({\n      ...prev,\n      [type]: !prev[type]\n    }));\n  };\n\n  /**\r\n   * Handle when user clicks a location marker or list item\r\n   * Centers map on the selected location\r\n   */\n  const handleLocationClick = location => {\n    setSelectedLocation(location);\n  };\n\n  /**\r\n   * Start the \"Select on Map\" workflow\r\n   * User can click map to suggest a new location\r\n   */\n  const handleStartSelecting = () => {\n    setIsSelectingOnMap(true);\n  };\n\n  /**\r\n   * Handle map clicks during location suggestion workflow\r\n   * Performs reverse geocoding to get address from coordinates\r\n   * @param {Object} coordinates - {lat, lng} from map click\r\n   */\n  const handleMapClick = async coordinates => {\n    if (!isSelectingOnMap || isProcessingClick) return; // Prevent multiple clicks\n\n    setIsProcessingClick(true); // Block additional clicks\n    setClickedCoordinates(coordinates); // Show marker immediately\n\n    /**\r\n     * Reverse Geocoding: Convert coordinates to address\r\n     * Uses OpenStreetMap Nominatim API (free, no API key required)\r\n     */\n    try {\n      var _data$address, _data$address2, _data$address3, _data$address4, _data$address5, _data$address6, _data$address7;\n      const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${coordinates.lat}&lon=${coordinates.lng}&zoom=18&addressdetails=1`);\n      const data = await response.json();\n\n      // Extract relevant address components\n      const locationInfo = {\n        coordinates,\n        address: ((_data$address = data.address) === null || _data$address === void 0 ? void 0 : _data$address.road) || ((_data$address2 = data.address) === null || _data$address2 === void 0 ? void 0 : _data$address2.building) || '',\n        city: ((_data$address3 = data.address) === null || _data$address3 === void 0 ? void 0 : _data$address3.city) || ((_data$address4 = data.address) === null || _data$address4 === void 0 ? void 0 : _data$address4.town) || ((_data$address5 = data.address) === null || _data$address5 === void 0 ? void 0 : _data$address5.village) || '',\n        state: ((_data$address6 = data.address) === null || _data$address6 === void 0 ? void 0 : _data$address6.state) || '',\n        zipCode: ((_data$address7 = data.address) === null || _data$address7 === void 0 ? void 0 : _data$address7.postcode) || '',\n        fullAddress: data.display_name || ''\n      };\n      setLocationData(locationInfo);\n    } catch (error) {\n      console.error('Error fetching address:', error);\n      setLocationData({\n        coordinates\n      });\n    }\n    setIsSelectingOnMap(false);\n    setIsProcessingClick(false); // Allow new clicks\n    setIsSubmissionFormOpen(true);\n  };\n  const handleCloseForm = () => {\n    setIsSubmissionFormOpen(false);\n    setClickedCoordinates(null);\n    setLocationData(null);\n    setIsSelectingOnMap(false);\n    setIsProcessingClick(false);\n  };\n\n  /**\r\n   * Skip geocoding and open form immediately\r\n   * Allows user to manually enter address if geocoding is slow\r\n   */\n  const handleSkipGeocoding = () => {\n    setIsSelectingOnMap(false);\n    setIsProcessingClick(false);\n    setIsSubmissionFormOpen(true);\n  };\n\n  /**\r\n   * Handle map bounds change (when user pans/zooms)\r\n   * Updates visible locations based on current viewport\r\n   */\n  const handleMapBoundsChange = useCallback(bounds => {\n    setMapBounds(bounds);\n  }, []);\n\n  /**\r\n   * Handle search - fly map to searched location\r\n   * @param {Object} location - {lat, lng, displayName}\r\n   */\n  const handleSearch = location => {\n    setMapCenter([location.lat, location.lng]);\n    setMapZoom(13); // Zoom in to city level\n    console.log('Flying to:', location.displayName);\n  };\n\n  // ========== RENDER ==========\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"header-title\",\n          children: \"\\uD83C\\uDF4E FreeFoodFinder\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"suggest-button\",\n          onClick: handleStartSelecting,\n          children: isSelectingOnMap ? 'üìç Click on Map...' : 'submit new location'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `hamburger-button ${isSidebarOpen ? 'hamburger-open' : ''}`,\n      onClick: () => setIsSidebarOpen(!isSidebarOpen),\n      \"aria-label\": \"Toggle menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n      onSearch: handleSearch,\n      isSidebarOpen: isSidebarOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: `sidebar ${isSidebarOpen ? 'sidebar-open' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(FilterPanel, {\n          selectedTypes: selectedTypes,\n          onFilterChange: handleFilterChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LocationList, {\n          locations: filteredLocations,\n          onLocationClick: handleLocationClick,\n          selectedLocation: selectedLocation,\n          onToggleSidebar: () => setIsSidebarOpen(!isSidebarOpen)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), isSidebarOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-overlay\",\n        onClick: () => setIsSidebarOpen(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"map-container\",\n        children: /*#__PURE__*/_jsxDEV(Map, {\n          locations: filteredLocations,\n          selectedLocation: selectedLocation,\n          onLocationClick: handleLocationClick,\n          onMapClick: handleMapClick,\n          onMapBoundsChange: handleMapBoundsChange,\n          defaultCenter: mapCenter,\n          defaultZoom: mapZoom,\n          center: mapCenter,\n          zoom: mapZoom,\n          isSelectingOnMap: isSelectingOnMap,\n          clickedCoordinates: clickedCoordinates,\n          isProcessingClick: isProcessingClick,\n          onSkipGeocoding: handleSkipGeocoding,\n          userLocation: userLocation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SubmissionForm, {\n      isOpen: isSubmissionFormOpen,\n      onClose: handleCloseForm,\n      clickedCoordinates: clickedCoordinates,\n      locationData: locationData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"CikZBBkAaFxazwbSHc8ugmAhMiI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Map","FilterPanel","LocationList","SubmissionForm","SearchBar","jsxDEV","_jsxDEV","App","_s","locations","setLocations","filteredLocations","setFilteredLocations","selectedLocation","setSelectedLocation","mapBounds","setMapBounds","selectedTypes","setSelectedTypes","foodbank","community_fridge","food_box","isSubmissionFormOpen","setIsSubmissionFormOpen","clickedCoordinates","setClickedCoordinates","isSelectingOnMap","setIsSelectingOnMap","locationData","setLocationData","isProcessingClick","setIsProcessingClick","isSidebarOpen","setIsSidebarOpen","mapCenter","setMapCenter","mapZoom","setMapZoom","userLocation","setUserLocation","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","userPos","console","log","error","message","enableHighAccuracy","timeout","maximumAge","timeoutId","setTimeout","params","URLSearchParams","append","north","south","east","west","fetch","toString","then","res","json","data","catch","err","clearTimeout","filtered","filter","location","type","handleFilterChange","prev","handleLocationClick","handleStartSelecting","handleMapClick","coordinates","_data$address","_data$address2","_data$address3","_data$address4","_data$address5","_data$address6","_data$address7","response","lat","lng","locationInfo","address","road","building","city","town","village","state","zipCode","postcode","fullAddress","display_name","handleCloseForm","handleSkipGeocoding","handleMapBoundsChange","bounds","handleSearch","displayName","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSearch","onFilterChange","onLocationClick","onToggleSidebar","onMapClick","onMapBoundsChange","defaultCenter","defaultZoom","center","zoom","onSkipGeocoding","isOpen","onClose","_c","$RefreshReg$"],"sources":["C:/Users/ohmeg/code/FoodFinder/client/src/App.js"],"sourcesContent":["/**\r\n * FreeFoodFinder - Main Application Component\r\n * \r\n * This app helps users find free food resources including:\r\n * - Food Banks\r\n * - Community Fridges  \r\n * - Food Boxes\r\n * \r\n * Features:\r\n * - Multi-city support (Denver, Seattle)\r\n * - Interactive map with custom markers\r\n * - Filter locations by type\r\n * - User-submitted location suggestions\r\n * - Mobile-responsive design with slide-out sidebar\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport Map from './components/Map';\r\nimport FilterPanel from './components/FilterPanel';\r\nimport LocationList from './components/LocationList';\r\nimport SubmissionForm from './components/SubmissionForm';\r\nimport SearchBar from './components/SearchBar';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  // ========== STATE MANAGEMENT ==========\r\n  \r\n  // Location data state\r\n  const [locations, setLocations] = useState([]); // All locations from API\r\n  const [filteredLocations, setFilteredLocations] = useState([]); // Filtered by type and viewport\r\n  const [selectedLocation, setSelectedLocation] = useState(null); // Location clicked on map/list\r\n  const [mapBounds, setMapBounds] = useState(null); // Current map viewport bounds\r\n  \r\n  // Filter state - controls which types of locations are shown\r\n  const [selectedTypes, setSelectedTypes] = useState({\r\n    foodbank: true,\r\n    community_fridge: true,\r\n    food_box: true\r\n  });\r\n  \r\n  // User submission workflow state\r\n  const [isSubmissionFormOpen, setIsSubmissionFormOpen] = useState(false);\r\n  const [clickedCoordinates, setClickedCoordinates] = useState(null);\r\n  const [isSelectingOnMap, setIsSelectingOnMap] = useState(false);\r\n  const [locationData, setLocationData] = useState(null); // Reverse geocoded address\r\n  const [isProcessingClick, setIsProcessingClick] = useState(false); // Prevent multiple clicks\r\n  \r\n  // Mobile UI state\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false); // Hamburger menu toggle\r\n\r\n  // Map center state\r\n  const [mapCenter, setMapCenter] = useState([39.8283, -98.5795]); // Default: Geographic center of USA\r\n  const [mapZoom, setMapZoom] = useState(4); // Default zoom level\r\n  const [userLocation, setUserLocation] = useState(null); // User's geolocation\r\n\r\n  // ========== GEOLOCATION ==========\r\n  \r\n  /**\r\n   * Get user's location on mount and center map\r\n   * Falls back to default USA center if permission denied or unavailable\r\n   */\r\n  useEffect(() => {\r\n    if ('geolocation' in navigator) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const { latitude, longitude } = position.coords;\r\n          const userPos = [latitude, longitude];\r\n          setUserLocation(userPos);\r\n          setMapCenter(userPos);\r\n          setMapZoom(10); // Zoom level 10 shows approximately 10-mile radius\r\n          console.log('User location detected:', userPos);\r\n        },\r\n        (error) => {\r\n          console.log('Geolocation error:', error.message);\r\n          // Keep default center and zoom\r\n        },\r\n        {\r\n          enableHighAccuracy: false,\r\n          timeout: 10000, // Increased to 10 seconds\r\n          maximumAge: 300000 // Allow cached position up to 5 minutes old\r\n        }\r\n      );\r\n    } else {\r\n      console.log('Geolocation not supported');\r\n    }\r\n  }, []);\r\n\r\n  // ========== DATA FETCHING ==========\r\n  \r\n  /**\r\n   * Fetch locations based on map viewport (lazy loading)\r\n   * Only loads locations visible in current map view for better performance\r\n   * Triggered when map bounds change or filters are toggled\r\n   * \r\n   * Debounced to avoid excessive API calls during rapid panning/zooming\r\n   */\r\n  useEffect(() => {\r\n    // Skip initial fetch until we have map bounds (after first render)\r\n    if (!mapBounds) return;\r\n    \r\n    // Debounce: Wait 300ms after user stops moving map before fetching\r\n    const timeoutId = setTimeout(() => {\r\n      // Build query parameters for server-side filtering\r\n      const params = new URLSearchParams();\r\n      params.append('bounds', `${mapBounds.north},${mapBounds.south},${mapBounds.east},${mapBounds.west}`);\r\n      \r\n      // Fetch filtered locations from server\r\n      fetch(`/api/locations?${params.toString()}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          setLocations(data);\r\n        })\r\n        .catch(err => {\r\n          console.error('Error fetching locations:', err);\r\n        });\r\n    }, 300); // 300ms debounce delay\r\n    \r\n    // Cleanup: Cancel pending fetch if bounds change again\r\n    return () => clearTimeout(timeoutId);\r\n  }, [mapBounds]); // Re-fetch when map viewport changes\r\n\r\n  /**\r\n   * Filter locations based on selected types\r\n   * Note: Viewport filtering now happens server-side for performance\r\n   * This only filters by type (foodbank, fridge, box)\r\n   */\r\n  useEffect(() => {\r\n    const filtered = locations.filter(location => selectedTypes[location.type]);\r\n    setFilteredLocations(filtered);\r\n  }, [selectedTypes, locations]);\r\n\r\n  // ========== EVENT HANDLERS ==========\r\n  \r\n  /**\r\n   * Toggle filter for a specific location type\r\n   * @param {string} type - One of: 'foodbank', 'community_fridge', 'food_box'\r\n   */\r\n  const handleFilterChange = (type) => {\r\n    setSelectedTypes(prev => ({\r\n      ...prev,\r\n      [type]: !prev[type]\r\n    }));\r\n  };\r\n\r\n  /**\r\n   * Handle when user clicks a location marker or list item\r\n   * Centers map on the selected location\r\n   */\r\n  const handleLocationClick = (location) => {\r\n    setSelectedLocation(location);\r\n  };\r\n\r\n  /**\r\n   * Start the \"Select on Map\" workflow\r\n   * User can click map to suggest a new location\r\n   */\r\n  const handleStartSelecting = () => {\r\n    setIsSelectingOnMap(true);\r\n  };\r\n\r\n  /**\r\n   * Handle map clicks during location suggestion workflow\r\n   * Performs reverse geocoding to get address from coordinates\r\n   * @param {Object} coordinates - {lat, lng} from map click\r\n   */\r\n  const handleMapClick = async (coordinates) => {\r\n    if (!isSelectingOnMap || isProcessingClick) return; // Prevent multiple clicks\r\n    \r\n    setIsProcessingClick(true); // Block additional clicks\r\n    setClickedCoordinates(coordinates); // Show marker immediately\r\n    \r\n    /**\r\n     * Reverse Geocoding: Convert coordinates to address\r\n     * Uses OpenStreetMap Nominatim API (free, no API key required)\r\n     */\r\n    try {\r\n      const response = await fetch(\r\n        `https://nominatim.openstreetmap.org/reverse?format=json&lat=${coordinates.lat}&lon=${coordinates.lng}&zoom=18&addressdetails=1`\r\n      );\r\n      const data = await response.json();\r\n      \r\n      // Extract relevant address components\r\n      const locationInfo = {\r\n        coordinates,\r\n        address: data.address?.road || data.address?.building || '',\r\n        city: data.address?.city || data.address?.town || data.address?.village || '',\r\n        state: data.address?.state || '',\r\n        zipCode: data.address?.postcode || '',\r\n        fullAddress: data.display_name || ''\r\n      };\r\n      \r\n      setLocationData(locationInfo);\r\n    } catch (error) {\r\n      console.error('Error fetching address:', error);\r\n      setLocationData({ coordinates });\r\n    }\r\n    \r\n    setIsSelectingOnMap(false);\r\n    setIsProcessingClick(false); // Allow new clicks\r\n    setIsSubmissionFormOpen(true);\r\n  };\r\n\r\n  const handleCloseForm = () => {\r\n    setIsSubmissionFormOpen(false);\r\n    setClickedCoordinates(null);\r\n    setLocationData(null);\r\n    setIsSelectingOnMap(false);\r\n    setIsProcessingClick(false);\r\n  };\r\n\r\n  /**\r\n   * Skip geocoding and open form immediately\r\n   * Allows user to manually enter address if geocoding is slow\r\n   */\r\n  const handleSkipGeocoding = () => {\r\n    setIsSelectingOnMap(false);\r\n    setIsProcessingClick(false);\r\n    setIsSubmissionFormOpen(true);\r\n  };\r\n\r\n  /**\r\n   * Handle map bounds change (when user pans/zooms)\r\n   * Updates visible locations based on current viewport\r\n   */\r\n  const handleMapBoundsChange = useCallback((bounds) => {\r\n    setMapBounds(bounds);\r\n  }, []);\r\n\r\n  /**\r\n   * Handle search - fly map to searched location\r\n   * @param {Object} location - {lat, lng, displayName}\r\n   */\r\n  const handleSearch = (location) => {\r\n    setMapCenter([location.lat, location.lng]);\r\n    setMapZoom(13); // Zoom in to city level\r\n    console.log('Flying to:', location.displayName);\r\n  };\r\n\r\n  // ========== RENDER ==========\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      {/* Header with suggest button */}\r\n      <header className=\"app-header\">\r\n        <div className=\"header-content\">\r\n          <h1 className=\"header-title\">üçé FreeFoodFinder</h1>\r\n          <button \r\n            className=\"suggest-button\"\r\n            onClick={handleStartSelecting}\r\n          >\r\n            {isSelectingOnMap ? 'üìç Click on Map...' : 'submit new location'}\r\n          </button>\r\n        </div>\r\n      </header>\r\n      \r\n      <button \r\n        className={`hamburger-button ${isSidebarOpen ? 'hamburger-open' : ''}`}\r\n        onClick={() => setIsSidebarOpen(!isSidebarOpen)}\r\n        aria-label=\"Toggle menu\"\r\n      >\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n      </button>\r\n      \r\n      {/* Search bar for finding cities/locations */}\r\n      <SearchBar onSearch={handleSearch} isSidebarOpen={isSidebarOpen} />\r\n      \r\n      <div className=\"app-container\">\r\n        <aside className={`sidebar ${isSidebarOpen ? 'sidebar-open' : ''}`}>\r\n          <FilterPanel \r\n            selectedTypes={selectedTypes}\r\n            onFilterChange={handleFilterChange}\r\n          />\r\n          <LocationList \r\n            locations={filteredLocations}\r\n            onLocationClick={handleLocationClick}\r\n            selectedLocation={selectedLocation}\r\n            onToggleSidebar={() => setIsSidebarOpen(!isSidebarOpen)}\r\n          />\r\n        </aside>\r\n        \r\n        {isSidebarOpen && (\r\n          <div \r\n            className=\"sidebar-overlay\"\r\n            onClick={() => setIsSidebarOpen(false)}\r\n          ></div>\r\n        )}\r\n        \r\n        <main className=\"map-container\">\r\n          <Map \r\n            locations={filteredLocations}\r\n            selectedLocation={selectedLocation}\r\n            onLocationClick={handleLocationClick}\r\n            onMapClick={handleMapClick}\r\n            onMapBoundsChange={handleMapBoundsChange}\r\n            defaultCenter={mapCenter}\r\n            defaultZoom={mapZoom}\r\n            center={mapCenter}\r\n            zoom={mapZoom}\r\n            isSelectingOnMap={isSelectingOnMap}\r\n            clickedCoordinates={clickedCoordinates}\r\n            isProcessingClick={isProcessingClick}\r\n            onSkipGeocoding={handleSkipGeocoding}\r\n            userLocation={userLocation}\r\n          />\r\n        </main>\r\n      </div>\r\n      \r\n      <SubmissionForm \r\n        isOpen={isSubmissionFormOpen}\r\n        onClose={handleCloseForm}\r\n        clickedCoordinates={clickedCoordinates}\r\n        locationData={locationData}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}